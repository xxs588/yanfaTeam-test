<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!--这个部分请教AI后学习得知，这个是为了让移动设备也能适应， name="viewport" 这部分相当于是给浏览器设定规则 后面的content="width=device-width, initial-scale=1.0"部分就是规则 宽度与设备宽度一致，不缩放。 -->
    <title>前端任务（小学生版）</title>
    <style>/* 请教AI后学习到 下面这一部分是为了解决盒子模型的布局偏差问题：浏览器默认的盒子模型中，元素的总宽度 = 设定的 width + padding（内边距） + border（边框）可能会导致布局会有偏移，设置 box-sizing: border-box 后，元素的总宽度会固定为设定的 width，padding 和 border 会从设定宽度的内部空间分配，不会额外增加元素总宽*/
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box; 
        }
        .bg-container {
            position: fixed;
            width: 100vw;
            height: 100vh;
            background-image: url('https://bing.img.run/1920x1080.php');
            background-size: cover;
            background-position: center;
            z-index: -1;
        }
        .main {
            width: 100%;
            height: 100vh;
            display: flex; /* 使用Flex弹性布局实现垂直+水平居中 */
            flex-direction: column;/*子元素垂直排列*/
            justify-content: center; /* 水平居中 */
            align-items: center; /* 垂直居中 */
            padding: 20px;
        }
        #realTime {
            font-size: 80px;
            font-weight: 500;
            color: white;
        }
        #realDate {
            font-size: 1.2em;
            color: white;
            margin-bottom: 8px;
        }
        .search-box{
            position: relative;
            width: 500px;
            height: auto;
        }
        #search-input{
            width: 100%;
            height:30px;
            padding: 0 40px;
            border: none;
            border-radius: 20px;
        }
        .search-list{
            color: black;
            font-size: 14px;
            cursor: pointer;
             display: flex; 
            flex-wrap: wrap; 
            gap: 10px; 
            margin-top: 10px;
            max-width: 500px;
            padding: 10px;
        }
        .search-title{
            color: white;
        }
        .search-icon{
            position: absolute;
            cursor: pointer;
        }
        #search-icon{
            left: 10px;/*给放大镜放在搜索框左边下面的色子和back图标放右边*/
        }
        #search-rand{
            right: 5px;
        }
        #search-back{
            right: 35px;
        }
        span{
            background-color: white;
            font-size: 10px;
            border: none;
            border-radius: 8px;
        }
        .clean-history{
            margin-top: 5px;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-size: 14px;
            color: grey;
        }
    </style>
</head>

<body>
    <div class="main">
    <div class="bg-container"></div>
    <div class="real-time" id="realTime"></div>
    <div class="real-time" id="realDate"></div>
    <div class="search-box">
        <input type="text" id="search-input" placeholder="要搜索什么呢">
        <span class="search-icon" id="search-icon">🔍</span>
        <span class="search-icon" id="search-rand">🎲</span>
        <span class="search-icon" id="search-back">🔙</span>
    </div>
    <div class="search-history">
        <div class="search-title">搜索发现：</div>
        <div class="search-list">
            <span>南大家园</span>
            <span>家园工作室</span>
            <span>云家园</span>
            <span>南昌大学</span>
            <span>家园小镇</span>
            <span>研发组</span>
            <span>设计组</span>
            <span>小家园</span>
        </div>
        <button class="clean-history" id="clean-history">清空记录</button>
    </div>
    </div>
    <script> 
        function updateDateTime() {
            const now = new Date();

            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, '0'); // 月份从0开始，需要+1
            const day = String(now.getDate()).padStart(2, '0');
            const weekDays = ['周日', '周一', '周二', '周三', '周四', '周五', '周六'];
            const weekDay = weekDays[now.getDay()]; // 获取星期几
            const dateStr = `${year}年${month}月${day}日 ${weekDay}`;

            const hour = String(now.getHours()).padStart(2, '0');
            const minute = String(now.getMinutes()).padStart(2, '0');
            const timeStr = `${hour}:${minute}`;

            // 更新到页面
            document.getElementById('realDate').textContent = dateStr;
            document.getElementById('realTime').textContent = timeStr;
        }
        
        // 页面加载先更-新1次，之后每分钟更新1次
        updateDateTime();
        setInterval(updateDateTime, 60000);

        const searchInput = document.getElementById('search-input');
        const searchIcon = document.getElementById('search-icon');

        // 搜索函数
        function search() {
            const keyword = searchInput.value.trim(); // 去除输入的空格
            if (!keyword) { 
                alert('请输入要搜索的内容哦~');
                return;
            }
            const searchUrl = `https://www.bing.com/s?wd=${encodeURIComponent(keyword) }`;
            window.open(searchUrl, '_blank');
        }

        searchIcon.addEventListener('click', search);

        // 按回车键触发搜索
        searchInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                search();
            }
        });
            //小学生爱家园的全部，下面这些都是
        const keywords = [
            "南大家园", "家园工作室", "云家园", "南昌大学",
            "家园小镇", "研发组", "设计组", "小家园"
        ];
        const randIcon = document.getElementById('search-rand');

        // 点击随机图标，填充随机关键词
        randIcon.addEventListener('click', () => {
            const randomIndex = Math.floor(Math.random() * keywords.length); 
            searchInput.value = keywords[randomIndex]; // 写到输入框
        });

        const backIcon = document.getElementById('search-back');

            localStorage.setItem('lastSearch', keyword); // 只存最后一次

            const searchUrl = `https://www.baidu.com/s?wd=${encodeURIComponent(keyword)}`;
            window.open(searchUrl, '_blank');
        }

        // 点击返回图标，显示上一次搜索
        backIcon.addEventListener('click', () => {
            const lastKeyword = localStorage.getItem('lastSearch');
            if (lastKeyword) {
                searchInput.value = lastKeyword; 
            } else {
                alert('还没有搜索记录呢~');
            }
        });

        const searchList = document.querySelector('.search-list');
        searchList.addEventListener('click', (e) => {
            if (e.target.tagName === 'SPAN') {
                const keyword = e.target.textContent;
                searchInput.value = keyword;
                search();
            }
        });

/*清空按钮*/
        const clearBtn = document.getElementById('clean-history');

            clearBtn.addEventListener('click', () => {
                localStorage.removeItem('lastSearch'); // 清除最后一次搜索记录
                alert('记录已清空~');
            });
    </script>
</body>
</html>
